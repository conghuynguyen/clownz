{"version":3,"sources":["routesDom/Page/TrademarkType/ListItems.js","routesDom/Page/TrademarkType/index.js"],"names":["formatter","Intl","NumberFormat","ListItems","items","showReview","rating","numReviews","rate","className","starDimension","starRatedColor","starHoverColor","starEmptyColor","numberOfStars","map","products_nsx","to","_id","key","effect","src","poster","url","alt","height","width","name","format","price","TrademarkType","location","nsx","queryString","parse","search","document","querySelector","innerHTML","replace","toUpperCase","page","Number","sort_price","dispatch","useDispatch","history","useHistory","Option","Select","dataTrademarkType","useSelector","state","trademarkType","data","loadingTrademarkType","loading","lengthTrademarkType","length","fetchAPi","params","getProductTrademarkType","actionGetProductTrademarkType","useEffect","window","scrollTo","top","behavior","labelInValue","defaultValue","value","style","onChange","e","stringify","push","total","defaultPageSize","current"],"mappings":"kSAGMA,EAAY,IAAIC,KAAKC,aAAa,MACzB,SAASC,EAAT,GAA+B,IAAVC,EAAS,EAATA,MAC5BC,EAAa,SAACC,EAAQC,GAC1B,IAAMC,EAAOF,EAASC,EACtB,OAAIA,EAAa,EAEb,sBAAKE,UAAU,kBAAf,UACE,qBAAKA,UAAU,eAAf,SACE,cAAC,IAAD,CACEC,cAAc,OACdC,eAAe,UACfC,eAAe,UACfN,OAAQE,EACRK,eAAe,YAGnB,8BAAIN,EAAJ,6BAKF,qCACE,cAAC,IAAD,CACEG,cAAc,OACdC,eAAe,UACfC,eAAe,UACfC,eAAe,OACfC,cAAe,IAEjB,wEAMR,OACE,qBAAKL,UAAU,oBAAf,SACGL,EAAMW,KAAI,SAACC,GAAD,OACT,sBAAKP,UAAU,oBAA2C,WAAS,UAAnE,UACE,eAAC,IAAD,CAAMQ,GAAE,sCAAiCD,EAAaE,IAA9C,gBAAyDF,EAAaG,KAA9E,UACE,qBAAKV,UAAU,kBAAf,SACE,cAAC,gBAAD,CACEW,OAAO,OACPC,IAAKL,EAAaM,OAAO,GAAGC,IAC5BC,IAAKR,EAAaE,IAElBO,OAAO,OACPC,MAAM,QAFDV,EAAaE,OAKtB,qBAAKT,UAAU,oBAAf,SACE,4BAAIO,EAAaW,YAGrB,qBAAKlB,UAAU,qBAAf,SACE,qBAAKA,UAAU,cAAf,SACE,iCAAOT,EAAU4B,OAAOZ,EAAaa,OAArC,gBAGJ,qBAAKpB,UAAU,qBAAf,SACGJ,EAAWW,EAAaV,OAAQU,EAAaT,gBAtBVS,EAAaE,U,OC7B9C,SAASY,EAAT,GAAsC,IAAbC,EAAY,EAAZA,SAC9BC,EAAQC,IAAYC,MAAMH,EAASI,QAAnCH,IACRI,SAASC,cAAc,SAASC,UAAYN,EAAIO,QAAQ,KAAM,KAAKC,cACnE,IAAMC,EAAOC,OAAOT,IAAYC,MAAMH,EAASI,QAAQM,OAAS,EAC1DE,EAAaD,OAAOT,IAAYC,MAAMH,EAASI,QAAQQ,aAAe,EACtEC,EAAWC,cACXC,EAAUC,cACRC,EAAWC,IAAXD,OAIFE,EAAoBC,aAAY,SAACC,GAAD,OAAWA,EAAMC,cAAcC,QAC/DC,EAAuBJ,aAAY,SAACC,GAAD,OAAWA,EAAMC,cAAcG,WAClEC,EAAsBN,aAAY,SAACC,GAAD,OAAWA,EAAMC,cAAcK,UAIjEC,EAAW,YAFqB,SAACC,GAAWhB,EAASiB,YAAwBD,IASjFE,CANe,CACbrB,KAAMA,EACNE,WAAYA,EACZvC,MAZU,GAaV4B,IAAKA,KAIT+B,qBAAU,WACJ/B,IACFgC,OAAOC,SAAS,CACdC,IAAK,EACLC,SAAU,WAEZR,OAED,CAAC3B,EAAKW,EAAYF,IAuBrB,OACE,qCACGc,GAAwB,cAAC,IAAD,IACzB,qBAAK9C,UAAU,yBAAf,SACE,qBAAKA,UAAU,eAAf,SACE,sBAAKA,UAAU,qBAAf,UACE,6BAAKuB,EAAIO,QAAQ,KAAM,OACvB,qBAAK9B,UAAU,eAAf,SACE,eAAC,IAAD,CACE2D,cAAY,EACZC,aAAc,CAAEC,MAAO3B,GAAc,GACrC4B,MAAO,CAAE7C,MAAO,KAChB8C,SAvBY,SAACC,GACzB,IAAMnB,EAAO,CACXtB,IAAKA,EACLS,KAAMA,EACNE,WAAY8B,EAAEH,MACdlE,MA1CU,IA4CNwD,EAAS3B,IAAYyC,UAAUpB,GAC/B/B,EAAG,wBAAoBqC,GAC7Bd,EAAQ6B,KAAKpD,IAUH,UAME,cAACyB,EAAD,CAAQsB,MAAO,EAAf,gCACA,cAACtB,EAAD,CAAQsB,MAAO,EAAf,gDACA,cAACtB,EAAD,CAAQsB,OAAQ,EAAhB,sDAGFf,GAAwBL,EAAkBQ,OAAS,GACnD,cAACvD,EAAD,CAAWC,MAAO8C,KAElBK,GAAwBL,EAAkBQ,OAAS,GACnD,cAAC,IAAD,CACEc,SA9Ca,SAAC/B,GAC1B,IAAMa,EAAO,CACXtB,IAAKA,EACLS,KAAMA,EACNE,WAAYA,EACZvC,MA/BU,IAiCNwD,EAAS3B,IAAYyC,UAAUpB,GAC/B/B,EAAG,wBAAoBqC,GAC7Bd,EAAQ6B,KAAKpD,IAsCDqD,MAAOnB,EACPoB,gBA1EA,GA2EAC,QAASrC,GAAQ","file":"static/js/26.130e4f30.chunk.js","sourcesContent":["import { Link } from 'react-router-dom';\nimport StarRatings from 'react-star-ratings';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nconst formatter = new Intl.NumberFormat('vn');\nexport default function ListItems({ items }) {\n  const showReview = (rating, numReviews) => {\n    const rate = rating / numReviews;\n    if (numReviews > 0) {\n      return (\n        <div className=\"revews-products\">\n          <div className=\"start-review\">\n            <StarRatings\n              starDimension=\"16px\"\n              starRatedColor=\"#fed330\"\n              starHoverColor=\"#fed330\"\n              rating={rate}\n              starEmptyColor=\"white\"\n            />\n          </div>\n          <p>{numReviews} đánh giá</p>\n        </div>\n      );\n    } else {\n      return (\n        <>\n          <StarRatings\n            starDimension=\"16px\"\n            starRatedColor=\"#fed330\"\n            starHoverColor=\"#fed330\"\n            starEmptyColor=\"none\"\n            numberOfStars={5}\n          />\n          <p>Chưa có đánh giá</p>\n        </>\n      );\n    }\n  };\n\n  return (\n    <div className=\"list-products-nsx\">\n      {items.map((products_nsx) => (\n        <div className=\"item-products-nsx\" key={products_nsx._id} data-aos=\"zoom-in\">\n          <Link to={`/detail-products?id_product=${products_nsx._id}&key=${products_nsx.key}`}>\n            <div className=\"ig-products-nsx\">\n              <LazyLoadImage\n                effect=\"blur\"\n                src={products_nsx.poster[0].url}\n                alt={products_nsx._id}\n                key={products_nsx._id}\n                height=\"100%\"\n                width=\"100%\"\n              />\n            </div>\n            <div className=\"name-products-nsx\">\n              <p>{products_nsx.name}</p>\n            </div>\n          </Link>\n          <div className=\"price-products-nsx\">\n            <div className=\"group-price\">\n              <span>{formatter.format(products_nsx.price)}đ</span>\n            </div>\n          </div>\n          <div className=\"group-start-review\">\n            {showReview(products_nsx.rating, products_nsx.numReviews)}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { Pagination, Select } from 'antd';\nimport queryString from 'query-string';\n// API\nimport { getProductTrademarkType } from 'features/Product/pathAPI';\n// Component\nimport Loading from 'loading/index';\nimport ListItems from './ListItems';\n// Css\nimport './style.css';\nexport default function TrademarkType({ location }) {\n  const { nsx } = queryString.parse(location.search);\n  document.querySelector('title').innerHTML = nsx.replace(/-/g, ' ').toUpperCase();\n  const page = Number(queryString.parse(location.search).page) || 1;\n  const sort_price = Number(queryString.parse(location.search).sort_price) || 0;\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { Option } = Select;\n  // state\n  const items = 20;\n  // store\n  const dataTrademarkType = useSelector((state) => state.trademarkType.data);\n  const loadingTrademarkType = useSelector((state) => state.trademarkType.loading);\n  const lengthTrademarkType = useSelector((state) => state.trademarkType.length);\n  // dispatch Api\n  const actionGetProductTrademarkType = (params) => dispatch(getProductTrademarkType(params));\n  //useEffect\n  const fetchAPi = () => {\n    const params = {\n      page: page,\n      sort_price: sort_price,\n      items: items,\n      nsx: nsx,\n    };\n    actionGetProductTrademarkType(params);\n  };\n  useEffect(() => {\n    if (nsx) {\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth',\n      });\n      fetchAPi();\n    }\n  }, [nsx, sort_price, page]);\n  const onChangePagination = (page) => {\n    const data = {\n      nsx: nsx,\n      page: page,\n      sort_price: sort_price,\n      items: items,\n    };\n    const params = queryString.stringify(data);\n    const url = `/product-type?${params}`;\n    history.push(url);\n  };\n  const onChangeSortPrice = (e) => {\n    const data = {\n      nsx: nsx,\n      page: page,\n      sort_price: e.value,\n      items: items,\n    };\n    const params = queryString.stringify(data);\n    const url = `/product-type?${params}`;\n    history.push(url);\n  };\n  return (\n    <>\n      {loadingTrademarkType && <Loading />}\n      <div className=\"container-products-nsx\">\n        <div className=\"products-nsx\">\n          <div className=\"group-products-nsx\">\n            <h3>{nsx.replace(/-/g, ' ')}</h3>\n            <div className=\"filter-price\">\n              <Select\n                labelInValue\n                defaultValue={{ value: sort_price || 0 }}\n                style={{ width: 150 }}\n                onChange={onChangeSortPrice}\n              >\n                <Option value={0}>Mới nhất</Option>\n                <Option value={1}>Giá thấp đến cao</Option>\n                <Option value={-1}>Giá cao đến thấp</Option>\n              </Select>\n            </div>\n            {!loadingTrademarkType && dataTrademarkType.length > 0 && (\n              <ListItems items={dataTrademarkType} />\n            )}\n            {!loadingTrademarkType && dataTrademarkType.length > 0 && (\n              <Pagination\n                onChange={onChangePagination}\n                total={lengthTrademarkType}\n                defaultPageSize={items}\n                current={page || 1}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"sourceRoot":""}