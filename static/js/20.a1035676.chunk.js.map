{"version":3,"sources":["../node_modules/@ant-design/icons-svg/es/asn/FileSearchOutlined.js","../node_modules/@ant-design/icons/es/icons/FileSearchOutlined.js","routesDom/Page/Search/ListItems.js","routesDom/Page/Search/index.js"],"names":["FileSearchOutlined","props","ref","React","AntdIcon","_objectSpread","icon","FileSearchOutlinedSvg","displayName","formatter","Intl","NumberFormat","ListItems","data","showReview","rating","numReviews","rate","className","starDimension","starRatedColor","starHoverColor","starEmptyColor","numberOfStars","map","product","to","_id","key","effect","src","poster","url","alt","height","width","name","format","price","Search","location","dispatch","useDispatch","history","useHistory","query","queryString","parse","search","replace","page","Number","document","querySelector","innerHTML","functionGetActionsGetSearch","window","scrollTo","top","behavior","params","getSearch","actionsGetSearch","items","keyword","useEffect","dataSearch","useSelector","state","lengthSearch","length","loadingSearch","loading","onChangePage","stringify","push","onChange","total","defaultPageSize","current","showPagination","style","fontSize","color"],"mappings":"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","file":"static/js/20.a1035676.chunk.js","sourcesContent":["// This icon file is generated automatically.\nvar FileSearchOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm144 452H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm445.7 51.5l-93.3-93.3C814.7 780.7 828 743.9 828 704c0-97.2-78.8-176-176-176s-176 78.8-176 176 78.8 176 176 176c35.8 0 69-10.7 96.8-29l94.7 94.7c1.6 1.6 3.6 2.3 5.6 2.3s4.1-.8 5.6-2.3l31-31a7.9 7.9 0 000-11.2zM652 816c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z\" } }] }, \"name\": \"file-search\", \"theme\": \"outlined\" };\nexport default FileSearchOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport FileSearchOutlinedSvg from \"@ant-design/icons-svg/es/asn/FileSearchOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar FileSearchOutlined = function FileSearchOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: FileSearchOutlinedSvg\n  }));\n};\n\nFileSearchOutlined.displayName = 'FileSearchOutlined';\nexport default /*#__PURE__*/React.forwardRef(FileSearchOutlined);","import { Link } from 'react-router-dom';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport StarRatings from 'react-star-ratings';\nconst formatter = new Intl.NumberFormat('vn');\nexport default function ListItems({ data }) {\n  const showReview = (rating, numReviews) => {\n    const rate = rating / numReviews;\n    if (numReviews > 0) {\n      return (\n        <div className=\"revews-products\">\n          <div className=\"start-review\">\n            <StarRatings\n              starDimension=\"16px\"\n              starRatedColor=\"#fed330\"\n              starHoverColor=\"#fed330\"\n              rating={rate}\n              starEmptyColor=\"white\"\n            />\n          </div>\n          <p>{numReviews} đánh giá</p>\n        </div>\n      );\n    } else {\n      return (\n        <>\n          <StarRatings\n            starDimension=\"16px\"\n            starRatedColor=\"#fed330\"\n            starHoverColor=\"#fed330\"\n            starEmptyColor=\"none\"\n            numberOfStars={5}\n          />\n          <p>Chưa có đánh giá</p>\n        </>\n      );\n    }\n  };\n  return (\n    <div className=\"group-search\">\n      {data.map((product) => (\n        <div className=\"item-products-search\" key={product._id} data-aos=\"zoom-in\">\n          <Link to={`/detail-products?id_product=${product._id}&key=${product.key}`}>\n            <div className=\"ig-products-search\">\n              <LazyLoadImage\n                effect=\"blur\"\n                src={product.poster[0].url}\n                alt={product._id}\n                key={product._id}\n                height=\"100%\"\n                width=\"100%\"\n              />\n            </div>\n            <div className=\"name-products-search\">\n              <p>{product.name}</p>\n            </div>\n          </Link>\n          <div className=\"price-products-search\">\n            <div className=\"group-price\">\n              <span>\n                {formatter.format(product.price)} <u>đ</u>\n              </span>\n            </div>\n          </div>\n          <div className=\"group-start-review\">{showReview(product.rating, product.numReviews)}</div>\n        </div>\n      ))}\n    </div>\n  );\n}\n","import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Pagination } from 'antd';\nimport { FileSearchOutlined } from '@ant-design/icons';\nimport { useHistory } from 'react-router-dom';\nimport queryString from 'query-string';\n// API\nimport { getSearch } from 'features/Search/patchAPI';\n// Component\nimport Loading from 'loading/index';\nimport ListItems from './ListItems';\n//Css\nimport './style.css';\nexport default function Search({ location }) {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const query = queryString.parse(location.search).query.replace(/-/g, ' ');\n  const page = Number(queryString.parse(location.search).page) || 1;\n  // dispatch API\n  const actionsGetSearch = (params) => dispatch(getSearch(params));\n  document.querySelector('title').innerHTML = `Tìm kiếm - ${query}`;\n  // create state\n  const items = 28;\n  // fetch API\n  const functionGetActionsGetSearch = () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n    const params = {\n      page: page || 1,\n      items: items,\n      keyword: query,\n    };\n    actionsGetSearch(params);\n  };\n  useEffect(() => {\n    functionGetActionsGetSearch();\n  }, [query]);\n  useEffect(() => {\n    functionGetActionsGetSearch();\n  }, [page]);\n  // Data Search\n  const dataSearch = useSelector((state) => state.search.data);\n  const lengthSearch = useSelector((state) => state.search.length);\n  const loadingSearch = useSelector((state) => state.search.loading);\n  // function\n  const onChangePage = (page) => {\n    const data = {\n      query: query,\n      page: page,\n    };\n    const params = queryString.stringify(data);\n    const url = `/search?${params}`;\n    history.push(url);\n  };\n  const showPagination = (length) => {\n    if (length > 0) {\n      return (\n        <Pagination onChange={onChangePage} total={length} defaultPageSize={items} current={page} />\n      );\n    }\n  };\n  return (\n    <>\n      {loadingSearch && <Loading />}\n      <div className=\"main-search\">\n        <div className=\"group-product-search\">\n          <h3>\n            {lengthSearch > 0 ? 'Có ' + lengthSearch : null} kết quả tìm kiếm cho '\n            {query === 'undefined' ? '' : query}'\n          </h3>\n          <ListItems data={dataSearch} />\n          {showPagination(lengthSearch)}\n          {lengthSearch === 0 && (\n            <div className=\"group-no-data\">\n              <FileSearchOutlined style={{ fontSize: '1.5em', color: '#596275' }} />\n              <p>Rất tiếc, không tìm thấy sản phẩm phù hợp với lựa chọn của bạn</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </>\n  );\n}\n"],"sourceRoot":""}