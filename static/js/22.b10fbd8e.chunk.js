(this.webpackJsonpclownz=this.webpackJsonpclownz||[]).push([[22],{522:function(e,t,n){},556:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return P}));var c=n(5),a=n(0),r=n(46),i=n(424),s=n(39),o=n(169),l=n(51),u=n(73),h=n(1),j=n(33),d=n(75),b=n(4),m=new Intl.NumberFormat("vn");function O(e){var t=e.dataCart,n=e.setVisible,c=e.token,a=e.actionDeleteCart,r=e.actionUpdateCartProduct,i=Object(j.g)(),o=0,l=function(e,t){t>0&&r({index:e,quantity:t})};return t.length>0&&Object(b.jsxs)("div",{className:"group-card-item",children:[Object(b.jsx)("div",{className:"frames-card-item",children:t.map((function(e,t){var n,c;return Object(b.jsxs)("div",{className:"card-items",children:[Object(b.jsx)("button",{className:"delete-item",onClick:function(){!function(e){a(e)}(t)},children:Object(b.jsx)(d.a,{placement:"right",title:"X\xf3a s\u1ea3n ph\u1ea9m",children:Object(b.jsx)("i",{className:"fa fa-trash-o"})})}),Object(b.jsx)("div",{className:"card-image",children:Object(b.jsx)("img",{src:e.product.poster,alt:e.product._id,title:"Xem chi ti\u1ebft"})}),Object(b.jsx)("div",{className:"card-name",children:Object(b.jsx)(s.b,{title:"Xem chi ti\u1ebft",to:"/detail-products?id_product=".concat(e.product._id,"&key=").concat(e.product.key),children:Object(b.jsxs)("p",{children:[e.product.name," - ",Object(b.jsxs)("span",{children:["size ",e.product.size]})]})})}),Object(b.jsxs)("div",{className:"card-rice",children:[Object(b.jsx)("span",{children:"Gi\xe1"}),Object(b.jsxs)("p",{children:[m.format(e.product.price)," ",Object(b.jsx)("u",{children:"\u0111"})]})]}),Object(b.jsxs)("div",{className:"card-quantity",children:[Object(b.jsx)("span",{children:"S\u1ed1 l\u01b0\u1ee3ng"}),Object(b.jsxs)("div",{className:"quantity-number",children:[Object(b.jsx)("button",{className:"click-left",onClick:function(){l(t,e.quantity-1)},children:"-"}),Object(b.jsx)("div",{children:e.quantity}),Object(b.jsx)("button",(n={className:"click-right",onClick:function(){l(t,e.quantity+1)}},Object(h.a)(n,"onClick",(function(){return e.quantity<5?l(t,e.quantity+1):e.quantity})),Object(h.a)(n,"children","+"),n))]})]}),Object(b.jsxs)("p",{className:"total-sum",children:["T\u1ed5ng c\u1ed9ng: ",m.format((c=e,c.product.price*c.quantity))," ",Object(b.jsx)("u",{children:"\u0111"})," "]})]},t)}))}),Object(b.jsx)("div",{className:"card-total-money",children:Object(b.jsxs)("div",{className:"total-money",children:[Object(b.jsx)("h3",{children:"Th\xe0nh ti\u1ec1n"}),Object(b.jsxs)("div",{className:"group-total-money",children:[Object(b.jsxs)("p",{children:[m.format(function(e){if(e.length>0)for(var t=0;t<e.length;t++)o+=e[t].product.price*e[t].quantity;return o}(t))," ",Object(b.jsx)("u",{children:"\u0111"})]}),Object(b.jsx)("span",{children:"(\u0110\xe3 bao g\u1ed3m VAT n\u1ebfu c\xf3)"})]}),Object(b.jsx)("button",{className:"check-out",onClick:function(){c?n(!0):i.push("/login")},children:"Ti\u1ebfn h\xe0nh \u0111\u1eb7t h\xe0ng"})]})})]})}var p=n(3),x=n(448),f=n(381),g=n(383),y=n(58),v=n(386),C=n(552),N=n(521),k=n(441),T=n(164),q=x.a.Option,w={labelCol:{xs:{span:24},sm:{span:24},lg:{span:24},xl:{span:24}},wrapperCol:{xs:{span:0},sm:{span:24}}};function F(e){var t=e.visible,n=e.setVisible,a=e.useState,r=e.useEffect,i=e.dataCart,s=e.actionToCarAPI,o=e.token,l=e.loadingPostCartAPI,u=f.a.TextArea,h=g.a.useForm(),j=Object(c.a)(h,1)[0],d=a(""),m=Object(c.a)(d,2),O=m[0],F=m[1],P=a(""),S=Object(c.a)(P,2),I=S[0],V=S[1],A={"client-id":"Aeuphynkq8ate32HVXQjqPfsFp5RNF7dBSXicHOU4Wj_a5Vel039SzgH2f2iqwFvP_HNey0whyfxVjXO"},X=a(0),H=Object(c.a)(X,2),L=H[0],_=H[1],z=a(""),D=Object(c.a)(z,2),E=D[0],G=D[1],U=a({}),Q=Object(c.a)(U,2),J=Q[0],K=Q[1];r((function(){j.resetFields(["district"]),j.resetFields(["commune"])}),[O]),r((function(){j.resetFields(["commune"])}),[I]);var M=function(){return Object(b.jsx)(y.a,{type:"primary",onClick:function(){s(J,o)},children:"X\xe1c nh\u1eadn thanh to\xe1n COD"})},R=function(){return Object(b.jsx)(N.b,{options:A,children:Object(b.jsx)(N.a,{fundingSource:void 0,createOrder:function(e,t){return t.order.create({purchase_units:[{amount:{currency_code:"USD",value:L}}]}).then((function(e){return e}))},onApprove:function(e,t){return t.order.capture().then((function(){s(J,o)}))}})})};return Object(b.jsxs)(b.Fragment,{children:[l&&Object(b.jsx)(T.a,{}),Object(b.jsx)("div",{className:"group-check-out",children:!l&&Object(b.jsxs)(v.a,{title:"Th\xf4ng tin nh\u1eadn h\xe0ng",width:500,onClose:function(){return n(!1)},visible:t,className:"container-checkout",children:[Object(b.jsxs)(g.a,Object(p.a)(Object(p.a)({},w),{},{form:j,onFinish:function(e){var t=0;if(i.length>0)for(var n=0;n<i.length;n++)t+=i[n].product.price*i[n].quantity;var c=(t/23e3).toFixed(2),a=e.city,r=e.district,s=e.commune,o=e.incubation,l=e.numberPhone,u=e.payment,h={address:"".concat(o," - ").concat(s," - ").concat(r," - ").concat(a),phone:l,totalSum:t,cart:i,payment:u};G(u),K(h),_(c)},children:[Object(b.jsx)(g.a.Item,{name:"city",label:"T\u1ec9nh/Th\xe0nh ph\u1ed1",hasFeedback:!0,rules:[{required:!0,message:"Vui l\xf2ng ch\u1ecdn t\u1ec9nh ho\u1eb7c th\xe0nh ph\u1ed1 b\u1ea1n \u1edf !"}],children:Object(b.jsx)(x.a,{showSearch:!0,placeholder:"T\u1ec9nh/Th\xe0nh ph\u1ed1",optionFilterProp:"children",onChange:function(e){F(e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:k.map((function(e,t){return Object(b.jsx)(q,{value:e.name,children:e.name},t)}))})}),Object(b.jsx)(g.a.Item,{name:"district",label:"Qu\u1eadn/Huy\u1ec7n",hasFeedback:!0,rules:[{required:!0,message:"Vui l\xf2ng ch\u1ecdn qu\u1eadn ho\u1eb7c huy\u1ec7n n\u01a1i b\u1ea1n !"}],children:Object(b.jsx)(x.a,{showSearch:!0,placeholder:"Qu\u1eadn/Huy\u1ec7n",optionFilterProp:"children",onChange:function(e){V(e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:k.map((function(e,t){return e.name===O&&e.huyen.map((function(e){return Object(b.jsx)(q,{value:e.name,children:e.name},t)}))}))})}),Object(b.jsx)(g.a.Item,{name:"commune",label:"X\xe3/Th\u1ecb Tr\u1ea5n",hasFeedback:!0,rules:[{required:!0,message:"Vui l\xf2ng ch\u1ecdn x\xe3 b\u1ea1n \u1edf !"}],children:Object(b.jsx)(x.a,{showSearch:!0,placeholder:"X\xe3/Th\u1ecb Tr\u1ea5n",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:k.map((function(e){return e.name===O&&e.huyen.map((function(e){return e.name===I&&e.xa.sort().map((function(e,t){return Object(b.jsx)(q,{value:e.name,children:e.name},t)}))}))}))})}),Object(b.jsx)(g.a.Item,{name:"incubation",label:"\u1ea4p/S\u1ed1 Nh\xe0/T\xean \u0110\u01b0\u1eddng",rules:[{required:!0,message:"\u0110\u1ecba ch\u1ec9 c\u1ee5 th\u1ec3 !"}],children:Object(b.jsx)(u,{maxLength:150,placeholder:"\u0111\u1ecba ch\u1ec9 c\u1ee5 th\u1ec3: \u1ea5p, s\u1ed1 nh\xe0, t\xean \u0111\u01b0\u1eddng...",rows:4})}),Object(b.jsx)(g.a.Item,{name:"numberPhone",label:"S\u1ed1 \u0110i\u1ec7n Tho\u1ea1i",className:"group-phone",hasFeedback:!0,rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp \u0111\xfang s\u1ed1 \u0111i\u1ec7n tho\u1ea1i !"}],children:Object(b.jsx)(C.a,{min:0,type:"number",max:999999999999})}),Object(b.jsx)(g.a.Item,{name:"payment",label:"Thanh to\xe1n",hasFeedback:!0,rules:[{required:!0,message:"Vui l\xf2ng ch\u1ecdn phuong th\u1ee9c thanh to\xe1n"}],children:Object(b.jsxs)(x.a,{onChange:function(){G("")},children:[Object(b.jsx)(q,{value:"COD",children:"Thanh to\xe1n khi nh\u1eadn h\xe0ng"}),Object(b.jsx)(q,{value:"paypal",children:"Thanh to\xe1n b\u1eb1ng Paypal"})]})}),Object(b.jsx)(g.a.Item,{children:Object(b.jsx)(y.a,{type:"primary",htmlType:"submit",className:"btn-register",children:"KI\u1ec2M TRA"})})]})),"COD"===E&&Object(b.jsx)(M,{}),"paypal"===E&&Object(b.jsx)(R,{})]})})]})}n(522);function P(){document.querySelector("title").innerHTML="Gi\u1ecf h\xe0ng";var e=Object(r.b)(),t=Object(a.useContext)(u.a),n=Object(c.a)(t.token,1)[0],h=Object(a.useState)(!1),j=Object(c.a)(h,2),d=j[0],m=j[1],p=Object(r.c)((function(e){return e.cart.dataCart})),x=Object(r.c)((function(e){return e.cart.loadingPostCartAPI}));return Object(a.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[]),Object(b.jsx)("div",{className:"container-card",children:Object(b.jsxs)("div",{className:"group-card",children:[Object(b.jsxs)("h3",{children:["GI\u1ece H\xc0NG ",Object(b.jsxs)("span",{children:["(",p.length," s\u1ea3n ph\u1ea9m)"]})]}),Object(b.jsx)(O,{setVisible:m,dataCart:p,token:n,actionUpdateCartProduct:function(t){return e(Object(o.d)(t))},actionDeleteCart:function(t){return e(Object(o.c)(t))}}),p.length>0&&Object(b.jsx)(F,{visible:d,loadingPostCartAPI:x,setVisible:m,useState:a.useState,useEffect:a.useEffect,dataCart:p,actionToCarAPI:function(t,n){return e(Object(l.c)(t,n))},token:n}),0===p.length&&Object(b.jsxs)("div",{className:"no-data-cart",children:[Object(b.jsx)(i.a,{style:{fontSize:"2em",margin:"15px auto"}}),Object(b.jsx)("h3",{children:"Kh\xf4ng c\xf3 s\u1ea3n ph\u1ea9m n\xe0o trong gi\u1ecf h\xe0ng c\u1ee7a b\u1ea1n."}),Object(b.jsx)(s.b,{to:"/",children:"Ti\u1ebfp t\u1ee5c mua s\u1eafm"})]})]})})}}}]);
//# sourceMappingURL=22.b10fbd8e.chunk.js.map