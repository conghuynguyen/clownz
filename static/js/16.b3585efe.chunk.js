(this.webpackJsonpclownz=this.webpackJsonpclownz||[]).push([[16],{420:function(e,n,a){"use strict";a.d(n,"a",(function(){return V}));var t=a(3),s=a(8),c=a(12),i=a(5),r=a(7),o=a.n(r),l=a(0),u=a(423),d=a(10),p=a(39),h=a(448),m=a(383),b=a(381),j=a(84),y=a(552),O=a(446),g=a(382),k=a(219),x=a(563),v=a(447),f=a(221).a,z=a(137).a,T=a(58),w=[{key:"adidas",name:"Adidas",productType:[{key:"adidas",type:"adidas alphabounce",name:"Adidas lphabounce"},{key:"adidas",type:"adidas nmd",name:"Adidas Nmd"},{key:"adidas",type:"adidas superstar",name:"Adidas Superstar"},{key:"adidas",type:"adidas yeezy",name:"Adidas Yeezy"},{key:"adidas",type:"adidas prophere",name:"Adidas Prophere"},{key:"adidas",type:"adidas falcon",name:"Adidas Falcon"},{key:"adidas",type:"adidas stan smith",name:"Adidas Stan Mmith"},{key:"adidas",type:"adidas ultraboost",name:"Adidas Ultraboost"}]},{key:"nike",name:"Nike",productType:[{key:"nike",type:"nike m2k tekno",name:"Nike M2k Tekno"},{key:"nike",type:"nike jordan",name:"Nike Jordan"},{key:"nike",type:"nike cortez",name:"Nike Cortez"},{key:"nike",type:"nike air max",name:"Nike Air Max"}]},{key:"newbalance",name:"New Balance",productType:[{key:"newbalance",type:"new balance",name:"New Balance"}]},{key:"vans",name:"Vans",productType:[{key:"vans",type:"new balance",name:"Vans Anaheim Factory"},{key:"vans",type:"vans sk8 hi",name:"Vans Sk8 Hi"},{key:"vans",type:"vans era",name:"Vans Era"},{key:"vans",type:"vans sneaker",name:"Vans Sneaker"},{key:"vans",type:"vans authentic",name:"Vans Authentic"},{key:"vans",type:"vans classic",name:"Vans Classic"}]},{key:"puma",name:"Puma",productType:[{key:"puma",type:"puma rsx",name:"Puma Rsx"},{key:"puma",type:"puma rsx puzzle",name:"Puma Rsx Puzzle"},{key:"puma",type:"puma rsx super",name:"Puma Rsx Super"}]},{key:"converse",name:"Converse",productType:[{key:"converse",type:"converse renew",name:"Converse Renew"},{key:"converse",type:"converse sneakers",name:"Converse Sneakers"},{key:"converse",type:"converse chuck 70",name:"Converse Chuck 70"}]}],S=[{size:"28",value:28},{size:"29",value:29},{size:"30",value:30},{size:"31",value:31},{size:"32",value:32},{size:"33",value:33},{size:"34",value:34},{size:"35",value:35},{size:"36",value:36},{size:"37",value:37},{size:"38",value:38},{size:"39",value:39},{size:"40",value:40},{size:"41",value:41},{size:"42",value:42},{size:"43",value:43},{size:"44",value:44},{size:"45",value:45},{size:"46",value:46},{size:"47",value:47},{size:"48",value:48}],N=a(73),C={labelCol:{xs:{span:24},sm:{span:24},lg:{span:24},xl:{span:24}},wrapperCol:{xs:{span:0},sm:{span:24}}},F=a(4);function P(e){return new Promise((function(n,a){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){return n(t.result)},t.onerror=function(e){return a(e)}}))}function V(e){var n=e.actionPostAddProduct,a=e.id_product,r=e.valuesEdit,V=e.actionUpdateProduct,q=h.a.Option,I=m.a.useForm(),A=Object(i.a)(I,1)[0],B=b.a.TextArea,E=Object(l.useContext)(N.a),G=Object(i.a)(E.token,1)[0],X=Object(l.useState)(""),J=Object(i.a)(X,2),M=J[0],L=J[1],_=Object(l.useState)(""),R=Object(i.a)(_,2),H=R[0],U=R[1],D=Object(l.useState)(""),Y=Object(i.a)(D,2),K=Y[0],Q=Y[1],W=Object(l.useState)(""),Z=Object(i.a)(W,2),$=Z[0],ee=Z[1],ne=Object(l.useState)(""),ae=Object(i.a)(ne,2),te=ae[0],se=ae[1],ce=Object(l.useState)([]),ie=Object(i.a)(ce,2),re=ie[0],oe=ie[1],le=Object(l.useState)([]),ue=Object(i.a)(le,2),de=ue[0],pe=ue[1],he=Object(l.useState)(!1),me=Object(i.a)(he,2),be=me[0],je=me[1],ye=Object(l.useState)(!1),Oe=Object(i.a)(ye,2),ge=Oe[0],ke=Oe[1],xe=Object(l.useState)(!1),ve=Object(i.a)(xe,2),fe=ve[0],ze=ve[1];Object(l.useEffect)((function(){A.resetFields(["NSX"])}),[M]),Object(l.useEffect)((function(){if(r){A.setFieldsValue(r);var e=r.color,n=r.poster,a=r.key,t=r.NSX;oe([e]),L(a),U(t),n&&pe(n)}}),[r]),Object(l.useEffect)((function(){A.setFieldsValue({NSX:H})}),[H]);var Te=function(){var e=Object(c.a)(o.a.mark((function e(t){var s,c,i,r,l,u,p,h,m,b,y,O,g,k,x,v,f,z,T,w,S,N;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=29;break}if(s=t.name,c=t.size,i=t.price,r=t.sex,l=t.collections,u=t.productType,p=t.key,h=t.NSX,m=t.description,b=new FormData,!a){e.next=19;break}if(ze(!0),y=[],!(de.length<4)){e.next=11;break}j.a.error({message:"Th\xf4ng B\xe1o",description:"Vui l\xf2ng t\u1ea3i l\xean 4 \u1ea3nh"}),e.next=19;break;case 11:for(O=0;O<de.length;O++)(g=de[O]).uid&&b.append("poster",de[O].originFileObj),g.url&&y.push(de[O]);return k={name:s,size:c,price:i,sex:r,color:re,description:m,collections:l,productType:u,key:p,NSX:h,imageOld:y,id_product:a},b.append("product",JSON.stringify(k)),e.next=16,V(b,G);case 16:x=e.sent,(v=Object(d.d)(x))&&(ze(!1),window.scrollTo({top:0,behavior:"smooth"}),f=v.product,se("/detail-products?id_product=".concat(f._id,"&key=").concat(f.key)),j.a.success({message:"Th\xf4ng B\xe1o !",description:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng "}));case 19:if(a){e.next=29;break}for(ze(!0),z={name:s,size:c,price:i,sex:r,color:re,description:m,collections:l,productType:u,key:p,NSX:h},T=0;T<de.length;T++)b.append("poster",de[T].originFileObj);return b.append("product",JSON.stringify(z)),e.next=26,n(b,G);case 26:w=e.sent,(S=Object(d.d)(w))&&(ze(!1),A.resetFields(),pe([]),oe([]),window.scrollTo({top:0,behavior:"smooth"}),N=S.product,se("/detail-products?id_product=".concat(N._id,"&key=").concat(N.key)),j.a.success({message:"Th\xf4ng B\xe1o !",description:"Th\xeam m\u1edbi th\xe0nh c\xf4ng"}));case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(0),console.log(e.t0);case 34:case"end":return e.stop()}}),e,null,[[0,31]])})));return function(n){return e.apply(this,arguments)}}(),we=function(){K&&-1===re.indexOf(K)?(oe([].concat(Object(s.a)(re),[K])),Q(""),je(!1)):(je(!1),Q(""))},Se=function(){var e=Object(c.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.url||n.preview){e.next=5;break}return e.next=4,P(n.originFileObj);case 4:n.preview=e.sent;case 5:ee(n.url||n.preview),ke(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}();return Object(F.jsxs)(F.Fragment,{children:[te&&Object(F.jsxs)("h4",{children:[" ","Click xem s\u1ea3n ph\u1ea9m v\u1eeba ",a?"c\u1eadp nh\u1eadt":"th\xeam"," ",Object(F.jsx)(p.b,{to:te,children:"T\u1ea1i \u0110\xe2y"})]}),Object(F.jsxs)("h3",{children:[a?"Ch\u1ec9nh s\u1eeda":"Th\xeam m\u1edbi"," s\u1ea3n ph\u1ea9m "]}),Object(F.jsxs)(m.a,Object(t.a)(Object(t.a)({form:A},C),{},{onFinish:Te,className:"from-add-product from-edit-product",name:"product",hasFeedback:!0,children:[Object(F.jsx)(m.a.Item,{label:"T\xean S\u1ea3n Ph\u1ea9m",hasFeedback:!0,name:"name",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp t\xean s\u1ea3n ph\u1ea9m !"}],children:Object(F.jsx)(B,{rows:2,maxLength:100})}),Object(F.jsx)(m.a.Item,{hasFeedback:!0,label:"Gi\xe1 Ti\u1ec1n",name:"price",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp gi\xe1 ti\u1ec1n"}],children:Object(F.jsx)(y.a,{style:{width:"100%"},min:1,max:99999999})}),Object(F.jsx)(m.a.Item,{label:"Gi\u1edbi T\xednh",hasFeedback:!0,name:"sex",rules:[{required:!0,message:"Vui l\xf2ng ch\u1ecdn gi\u1edbi t\xednh !"}],children:Object(F.jsxs)(O.a.Group,{children:[Object(F.jsx)(O.a,{value:"nam",defaultChecked:!0,children:"Nam"}),Object(F.jsx)(O.a,{value:"n\u1eef",defaultChecked:!0,children:"N\u1eef"}),Object(F.jsx)(O.a,{value:"nam, n\u1eef",defaultChecked:!0,children:"Nam, N\u1eef"})]})}),Object(F.jsx)(m.a.Item,{label:"Nh\xe0 S\u1ea3n Xu\u1ea5t",hasFeedback:!0,name:"key",rules:[{required:!0,message:"Vui l\xf2ng ch\u1ecdn nh\xe0 s\u1ea3n xu\u1ea5t !"}],children:Object(F.jsx)(h.a,{onChange:function(e){L(e)},children:w.map((function(e,n){return Object(F.jsx)(q,{value:e.key,children:e.name},n)}))})}),Object(F.jsx)(m.a.Item,{label:"D\xf2ng S\u1ea3n Ph\u1ea9m",hasFeedback:!0,name:"NSX",rules:[{required:!0,message:"Vui l\xf2ng ch\u1ecdn d\xf2ng s\u1ea3n ph\u1ea9m !"}],children:Object(F.jsx)(h.a,{children:w.map((function(e,n){return e.productType.map((function(n,a){return e.key===M&&Object(F.jsx)(q,{value:n.type,children:n.name},a)}))}))})}),Object(F.jsx)(m.a.Item,{label:"B\u1ed9 S\u01b0u T\u1eadp",hasFeedback:!0,name:"collections",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp b\u1ed9 s\u01b0u t\u1eadp !"}],children:Object(F.jsx)(B,{rows:2,maxLength:100})}),Object(F.jsx)(m.a.Item,{label:"Lo\u1ea1i S\u1ea3n Ph\u1ea9m",hasFeedback:!0,name:"productType",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp lo\u1ea1i s\u1ea3n ph\u1ea9m !"}],children:Object(F.jsx)(B,{rows:2,maxLength:100})}),Object(F.jsx)(m.a.Item,{label:"M\xf4 T\u1ea3 S\u1ea3n Ph\u1ea9m",hasFeedback:!0,name:"description",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp n\u1ed9i dung s\u1ea3n ph\u1ea9m !"}],children:Object(F.jsx)(B,{rows:11})}),Object(F.jsx)(m.a.Item,{label:"T\u1ea3i \u1ea2nh L\xean",hasFeedback:!0,name:"poster",rules:[{required:de.length<1||de.length<4,message:"Vui l\xf2ng t\u1ea3i 4 \u1ea3nh  l\xean  !"}]}),Object(F.jsx)(g.a,{listType:"picture-card",accept:".jpg, .jpeg, .png",fileList:de,onPreview:Se,onChange:function(e){var n=e.file,t=e.fileList,c=e.event,i="image/jpeg"===n.type||"image/png"===n.type||"image/jpg"===n.type,r=n.size/1024/1024<2;if(a){if(n&&0===t.length||n&&t.length>0&&!c){var o=Object(s.a)(de),l=o.findIndex((function(e){return e.id===n.id}));o.splice(l,1),pe(o)}t.length>0&&c&&(i||j.a.error({message:"Th\xf4ng B\xe1o",description:"B\u1ea1n ch\u1ec9 c\xf3 th\u1ec3 t\u1ea3i l\xean t\u1ec7p JPG / PNG / JPEG !"}),r||j.a.error({message:"Th\xf4ng b\xe1o",description:"H\xecnh \u1ea3nh ph\u1ea3i nh\u1ecf h\u01a1n 2MB "})),r&&i&&pe(t)}a||(i||j.a.error({message:"Th\xf4ng B\xe1o",description:"B\u1ea1n ch\u1ec9 c\xf3 th\u1ec3 t\u1ea3i l\xean t\u1ec7p JPG / PNG / JPEG !"}),r||j.a.error({message:"Th\xf4ng b\xe1o",description:"H\xecnh \u1ea3nh ph\u1ea3i nh\u1ecf h\u01a1n 2MB "}),r&&i&&pe(t))},maxCount:4,multiple:!0,children:de.length>=4?null:Object(F.jsxs)("div",{children:[Object(F.jsx)(u.a,{}),Object(F.jsx)("div",{style:{marginTop:8},children:"T\u1ea3i \u1ea3nh l\xean"})]})}),Object(F.jsx)(k.a,{visible:ge,footer:null,onCancel:function(){ke(!1)},children:Object(F.jsx)("img",{alt:"example",style:{width:"100%"},src:$})}),Object(F.jsxs)(m.a.Item,{label:"M\xe0u S\u1eafc",hasFeedback:!0,name:"color",rules:[{required:re.length<1,message:"Vui l\xf2ng th\xeam m\xe0u cho s\u1ea3n ph\u1ea9m !"}],children:[re.map((function(e,n){return Object(F.jsx)(x.a,{closable:!0,onClose:function(){return function(e){console.log(e);var n=re.filter((function(n){return n!==e}));oe(n)}(e)},maxTagCount:3,children:e},n)})),be&&re.length<5&&Object(F.jsx)(b.a,{type:"text",size:"small",style:{display:"block",margin:"10px auto",width:"200px",height:"30px"},value:K,onChange:function(e){Q(e.target.value)},onBlur:we,onPressEnter:we}),!be&&re.length<5&&Object(F.jsxs)(x.a,{style:{display:"block",margin:"10px auto",width:"100px"},onClick:function(){je(!0)},children:[Object(F.jsx)(u.a,{})," Th\xeam m\xe0u"]})]}),Object(F.jsx)(m.a.Item,{label:"Ch\u1ecdn Size",hasFeedback:!0,name:"size",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp m\xe0u !"}],children:Object(F.jsx)(v.a.Group,{style:{width:"100%"},children:Object(F.jsx)(f,{children:S.map((function(e,n){return Object(F.jsx)(z,{span:8,children:Object(F.jsx)(v.a,{value:e.value,children:e.size})},n)}))})})}),Object(F.jsx)(m.a.Item,{children:Object(F.jsx)(T.a,{style:{marginTop:"10px"},type:"primary",htmlType:"submit",loading:fe,children:a?"C\u1eadp Nh\u1eadt":"Th\xeam S\u1ea3n Ph\u1ea9m"})})]}))]})}},423:function(e,n,a){"use strict";var t=a(3),s=a(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},i=a(9),r=function(e,n){return s.createElement(i.a,Object(t.a)(Object(t.a)({},e),{},{ref:n,icon:c}))};r.displayName="PlusOutlined";n.a=s.forwardRef(r)},532:function(e,n,a){},546:function(e,n,a){"use strict";a.r(n),a.d(n,"default",(function(){return h}));var t=a(5),s=a(0),c=a(46),i=a(33),r=a(35),o=a(62),l=a(163),u=a(420),d=a(147),p=(a(532),a(4));function h(){var e=Object(c.b)(),n=Object(i.i)().params.id_product,a=Object(s.useState)(1),h=Object(t.a)(a,2),m=h[0],b=h[1],j=Object(c.c)((function(e){return e.productId.product})),y=Object(c.c)((function(e){return e.productId.length})),O=Object(c.c)((function(e){return e.productId.loading}));return console.log(j),console.log(y),Object(s.useEffect)((function(){var a;if(a=n,e(Object(r.b)(a)),window.scrollTo({top:0,behavior:"smooth"}),n){var t=j.name,s=j.price,c=j.sex,i=j.key,o=j.NSX,l=j.collections,u=j.productType,d=j.description,p=j.poster,h=j.color,m=j.size;b({price:s,name:t,sex:c,key:i,NSX:o,collections:l,productType:u,description:d,poster:p,color:h,size:m})}}),[n]),Object(p.jsx)("div",{className:"ground-edit-product",children:Object(p.jsxs)("div",{className:"container-edit-product",children:[O&&Object(p.jsx)(l.a,{}),!O&&j?Object(p.jsx)(u.a,{id_product:n,valuesEdit:m,actionUpdateProduct:function(n,a){return e(Object(o.e)(n,a))}}):Object(p.jsx)(d.a,{})]})})}}}]);
//# sourceMappingURL=16.b3585efe.chunk.js.map